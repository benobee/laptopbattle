<template name="navbar">
  <nav id="mainNav" class="top header">
    <div class="ui menu inverted">
      <div class="menu">
        {{#unless currentUser}}
        <div class="logo"> 
          <a href="home"><img src="img/logo-glad.png" alt="Laptop Battle"/></a>
        </div>
        <a href="#" id="toggleSidebar" class="item">
            <i class="sidebar large icon"></i>{{signInTitle}}
        </a>
        {{else}} <!-- don't show the navbar unless user logs in --> 
        <a href="battles" class="item">
           <i class="video play large icon"></i>Battles
        </a>
        <a href="leaderboard" class="item">
           <i class="trophy large icon"></i>Leaderboard
        </a>
        <a href="rules" class="item">
           <i class="file text large icon"></i>Rules
        </a>
        {{/unless}}
      </div>
      <div class="right menu">
        {{#if currentUser}}
          {{>game}}
        {{/if}}
      </div>
    </div>
  </nav>
</template>

<template name="game">
{{#if rank}}
<div class="float right item info">
        <div class="ui statistic">
          <div class="value">
            {{rank}}
          </div>
          <div class="label">
            Your Rank
          </div>
        </div>
</div>
{{/if}}
<div class="float right item info">
  <div class="ui statistic">
    <div class="value">
      {{points}}
    </div>
    <div class="label">
       Battle Points
    </div>
  </div>    
</div>
</template>

<template name="sidebarStart">
<div class="sidebarWrapper">
  <div class="profile">
    <div class="header">Sign In</div>
  </div>
  <div class="ui-box">
    <form class="login" id="loginForm">
     <input class="lb-input" placeholder="email" type="text" id="email">
     <input class="lb-input" type="password" placeholder="password" id="password">
     <button class="dark button" id="login">Login</button>
     <button class="text button right" id="create">Create Account</button>
    </form>
    <div class="hiddenForm">
    {{>createAccount}}
    </div>
  </div>
</div>
</template>

<template name="sidebar">
    <div class="item login">
      {{> userAccount}}
      <div id="profileContent"></div>
    </div>  
    <div class="sidebarContent">   
      {{#if currentUser}}
      {{> myVideos}}
      {{/if}}
    </div>
</template>

<template name="myVideos">
<div id="myVideosContainer">
  <div id="videoUploadForm" class="ui segment raised inverted upload">
        <div id="closeUploadForm" class="ui right icon"><i class="large remove icon" style="margin-bottom:35px"></i></div>
        <form id="battleUpload">      
          <input class="lb-input" name="title" id="title" placeholder="Title" type="text" required/>
          <input class="lb-input" name="url" id="url" placeholder="Youtube URL" type="link" required/>
          <button id="uploadVideo" type="submit" class="dark button"><span class="fa fa-upload"></span> Upload Video</button>
        </form>
  </div>
  <div id="myVideos">
    <div class="ui menu inverted">
      <div class="left menu inverted" style="margin-bottom:40px">
        <div class="item"><h4>My Videos</h4></div>
      </div>
      <div class="right menu inverted">
        <div class="item">
          <div id="addVideo" class="dark button" data-content="Upload Videos to the Battlefield">
            <i class="add sign icon"></i>
          </div>
        </div>
      </div>
    </div>
    <div id="videoList" class="ui menu inverted vertical fluid">
    {{#if userVideo}}
    {{#each userVideo}}
      <a class="item">
          <div class="segment inverted float left">
            <h5 class="header">{{title}}</h5>
          </div>
      </a>
    {{/each}}
    {{else}}
      <div class="item">No Videos</div>
    {{/if}}
    </div>
  </div>
</div>
</template>

<template name="userAccount">
{{#if currentUser}}
  {{>profileHeader}}
{{/if}}
</template>

<template name="createAccount">
  <form class="createAccount" id="createAccountForm">
   <input class="lb-input" type="text" placeholder="username" id="createUsername" autocomplete="off">
   <input class="lb-input" type="email" placeholder="email" id="createEmail" autocomplete="off">
   <input class="lb-input" type="password" placeholder="password" id="createPassword" autocomplete="off">
   <button class="dark button" id="createAccount">Create Account</button>
  </form>
</template>

<template name="profileHeader">
<div id="profileHeader">
  <div class="ui pointing dropdown">
    <div class="profile">
      <div class="image"><img id="avatar" src="avatars/avatar-default.png"></div>
      <div class="header">{{title}}</div>
    </div>
    <div class="menu">
      <a href="#profile" class="item" id="editProfile">Edit Profile</a>
      <a href="#account" class="item" id="editProfile">Account Settings</a>
      <div class="item signOut" id="signOut">Sign Out</div>
    </div>
  </div>
</div>
</template>

<template name="profileSettings">
<div id="profileSettings">
  <form>
    <label for="avatarImage">Avatar</label>
    <input id="avatarImage" accept="image/*" type="file" class="lb-input">
    <label for="changeUsername">Username</label>
    <input type="text" id="newUsername" class="lb-input">
    <button id="updateSettings" class="dark button">Update Settings</button>
  </form>
</div>
</template>

<template name="accountSettings">

</template>