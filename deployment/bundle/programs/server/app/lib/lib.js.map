{"version":3,"sources":["meteor://ðŸ’»app/lib/lib.js"],"names":[],"mappings":"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","file":"/lib/lib.js","sourcesContent":["//mongoDB collections\nComments = new Mongo.Collection('comments');\nVideos = new Mongo.Collection('videos');\nLevels = new Mongo.Collection('levels');\n\n//create array in the videos collection\nVideos.votes = [];\n\n//add point array to users\nMeteor.users.votes = [];\nMeteor.users.pointCount = {};\n\n//database method definitions\nMeteor.methods({\n  vote: function(videoID, userID){ \n    Videos.update(videoID, {\n      $push: {\n        'votes': {\n          'videoId' : videoID, \n          'userId' : userID   \n        }\n      }\n    });\n  },\n  removeVote: function(videoID, userID){ \n    Videos.update(videoID, {\n      $pull: { votes: { userId : userID } }\n    });\n  },\n  updateTitle: function(titleID, titleValue){\n  \tVideos.update(titleID, {$set: {title: titleValue}});\t\n  },\n  deleteVideo: function(videoID){\n    Videos.remove(videoID);\n  },\n  addVideo: function(id, name, url, title){\n    Videos.insert({\n      'id': id,\n      'name': name,\n      'url': url,\n      'date': new Date(),\n      'title': title\n    });     \n  },\n  addComment : function(id, userId, user, val, time, videoUserId){\n    Meteor.users.update(videoUserId, { $inc: { 'pointCount' : 5 }});\n    Comments.insert({\n      'videoId' : id,\n      'userId' : userId,\n      'name': user,\n      'post': val,\n      'date': new Date(),\n      'time': time\n    });\n  },\n  deleteComment : function(id, videoUserId){\n    Comments.remove(id);\n    Meteor.users.update(videoUserId, { $inc: { 'pointCount' : -5 }});\n  },\n  admin : function(id){\n     var admin = ['nKz4CRLMpQxQFP23D'];\n     if(id == admin){\n      Accounts.admin = true;\n     } else {\n      Accounts.admin = false;\n     }\n  },\n  addPoints: function(videoId, id, type){\n    Meteor.users.update(id, { $inc: { 'pointCount' : 100 }});\n    Meteor.users.update(id, {\n        $push: {\n          'votes' : {\n            'videoId': videoId,\n            'user'   : id, \n            'type'   : type,\n            'voterId': Meteor.userId(),\n            'time'   : new Date()  \n          }\n        }\n    }); \n  },\n  removePoints: function(voterId, videoId, videoUserId){\n    Meteor.users.update(videoUserId, { $inc: { 'pointCount' : -100 }});\n    Meteor.users.update(videoUserId, {\n      $pull: { votes: { 'voterId' : voterId, 'videoId' : videoId } }\n    });\n  },\n  changeUsername : function(newUsername){ \n    Meteor.users.update({_id:Meteor.user()._id}, {$set:{\"username\":newUsername}});\n  }\n});\n\nServiceConfiguration.configurations.upsert(\n  { service: \"facebook\" },\n  {\n    $set: {\n      appId: \"442572199236703\",\n      secret: \"91ac94b88c3ceabf6dec283fa0ed2b22\"\n    }\n  }\n);\n\n"]}